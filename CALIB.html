<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>محاسبه گر دوره کالیبراسیون - استاندارد 689</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background-color: #f5f7fa;
            color: #333;
            line-height: 1.6;
            padding: 20px;
            max-width: 1000px;
            margin: 0 auto;
        }
        
        .container {
            background-color: white;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
            padding: 30px;
            margin-top: 20px;
        }
        
        header {
            text-align: center;
            padding-bottom: 20px;
            border-bottom: 2px solid #eaeaea;
            margin-bottom: 30px;
        }
        
        h1 {
            color: #2c3e50;
            margin-bottom: 10px;
            font-size: 28px;
        }
        
        .subtitle {
            color: #7f8c8d;
            font-size: 18px;
            margin-bottom: 15px;
        }
        
        .instructions {
            background-color: #f8f9fa;
            padding: 15px;
            border-radius: 10px;
            border-right: 4px solid #3498db;
            margin-bottom: 30px;
            color: #555;
        }
        
        .criterion {
            margin-bottom: 30px;
            padding: 20px;
            border-radius: 10px;
            background-color: #f9f9f9;
            transition: all 0.3s ease;
        }
        
        .criterion:hover {
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.05);
        }
        
        .criterion-title {
            display: flex;
            align-items: center;
            color: #2c3e50;
            margin-bottom: 15px;
            font-size: 20px;
        }
        
        .criterion-number {
            background-color: #3498db;
            color: white;
            width: 36px;
            height: 36px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-left: 15px;
            font-weight: bold;
        }
        
        .options {
            display: flex;
            flex-direction: column;
            gap: 12px;
        }
        
        .option {
            display: flex;
            align-items: center;
            padding: 12px 15px;
            background-color: white;
            border-radius: 8px;
            border: 1px solid #ddd;
            cursor: pointer;
            transition: all 0.2s ease;
        }
        
        .option:hover {
            background-color: #f0f7ff;
            border-color: #3498db;
        }
        
        .option.selected {
            background-color: #e3f2fd;
            border-color: #3498db;
            font-weight: bold;
        }
        
        .option input {
            margin-left: 10px;
            cursor: pointer;
        }
        
        .option-label {
            font-weight: bold;
            color: #3498db;
            min-width: 50px;
        }
        
        .option-text {
            flex-grow: 1;
        }
        
        .separator {
            height: 2px;
            background-color: #eee;
            margin: 25px 0;
        }
        
        .buttons {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-top: 30px;
            margin-bottom: 20px;
        }
        
        button {
            padding: 14px 30px;
            border: none;
            border-radius: 8px;
            font-size: 18px;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
        }
        
        #calculateBtn {
            background-color: #2ecc71;
            color: white;
        }
        
        #calculateBtn:hover {
            background-color: #27ae60;
            transform: translateY(-2px);
        }
        
        #resetBtn {
            background-color: #e74c3c;
            color: white;
        }
        
        #resetBtn:hover {
            background-color: #c0392b;
            transform: translateY(-2px);
        }
        
        .result-container {
            display: none;
            margin-top: 40px;
            padding: 25px;
            border-radius: 10px;
            background-color: #f0f7ff;
            border-right: 5px solid #3498db;
            animation: fadeIn 0.8s ease;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .result-title {
            color: #2c3e50;
            font-size: 24px;
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .score-display {
            font-size: 28px;
            font-weight: bold;
            color: #2c3e50;
            text-align: center;
            margin: 20px 0;
        }
        
        .score-value {
            font-size: 48px;
            color: #e74c3c;
            margin: 0 10px;
        }
        
        .interval-display {
            font-size: 22px;
            text-align: center;
            margin: 25px 0;
            padding: 20px;
            background-color: white;
            border-radius: 10px;
            box-shadow: 0 3px 10px rgba(0, 0, 0, 0.08);
        }
        
        .warning {
            color: #e74c3c;
            font-weight: bold;
            padding: 15px;
            background-color: #ffeaea;
            border-radius: 8px;
            margin-top: 20px;
            border-right: 4px solid #e74c3c;
        }
        
        .note {
            color: #f39c12;
            font-weight: bold;
            padding: 15px;
            background-color: #fff8e1;
            border-radius: 8px;
            margin-top: 20px;
            border-right: 4px solid #f39c12;
        }
        
        .score-summary {
            display: flex;
            justify-content: space-around;
            flex-wrap: wrap;
            margin-top: 30px;
            gap: 15px;
        }
        
        .score-item {
            text-align: center;
            padding: 15px;
            background-color: white;
            border-radius: 10px;
            flex: 1;
            min-width: 180px;
            box-shadow: 0 3px 10px rgba(0, 0, 0, 0.05);
        }
        
        .score-item-title {
            color: #7f8c8d;
            font-size: 16px;
            margin-bottom: 8px;
        }
        
        .score-item-value {
            font-size: 24px;
            font-weight: bold;
            color: #3498db;
        }
        
        footer {
            text-align: center;
            margin-top: 40px;
            color: #7f8c8d;
            font-size: 14px;
            padding-top: 20px;
            border-top: 1px solid #eee;
        }
        
        @media (max-width: 768px) {
            .container {
                padding: 20px;
            }
            
            .buttons {
                flex-direction: column;
            }
            
            .score-summary {
                flex-direction: column;
            }
            
            .option {
                flex-direction: column;
                align-items: flex-start;
            }
            
            .option-label {
                margin-bottom: 5px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1><i class="fas fa-ruler-combined"></i> محاسبه گر دوره کالیبراسیون</h1>
            <div class="subtitle">بر اساس استاندارد IDS 689 (روش تحلیل مهندسی)</div>
        </header>
        
        <div class="instructions">
            <p><i class="fas fa-info-circle"></i> لطفاً برای هر معیار، گزینه مربوطه را انتخاب کنید. پس از تکمیل همه موارد، بر روی دکمه "محاسبه دوره" کلیک کنید.</p>
        </div>
        
        <!-- معیار 1: نسبت عدم قطعیت آزمون -->
        <div class="criterion" id="criterion1">
            <div class="criterion-title">
                <div class="criterion-number">1</div>
                نسبت عدم قطعیت آزمون (TUR)
            </div>
            <div class="options">
                <div class="option" data-value="4">
                    <input type="radio" name="criterion1" id="c1o1">
                    <div class="option-label">گزینه 1:</div>
                    <div class="option-text">کمتر از 3:1 (شرایط سخت/دقت پایین) - امتیاز: 4</div>
                </div>
                <div class="option" data-value="6">
                    <input type="radio" name="criterion1" id="c1o2">
                    <div class="option-label">گزینه 2:</div>
                    <div class="option-text">بین 3:1 تا 10:1 - امتیاز: 6</div>
                </div>
                <div class="option" data-value="8">
                    <input type="radio" name="criterion1" id="c1o3">
                    <div class="option-label">گزینه 3:</div>
                    <div class="option-text">بیشتر از 10:1 (شرایط ایده‌آل) - امتیاز: 8</div>
                </div>
            </div>
        </div>
        
        <!-- معیار 2: بررسی‌های میان‌دوره -->
        <div class="criterion" id="criterion2">
            <div class="criterion-title">
                <div class="criterion-number">2</div>
                تعداد بررسی‌های میان‌دوره (در طول دوره کالیبراسیون)
            </div>
            <div class="options">
                <div class="option" data-value="6">
                    <input type="radio" name="criterion2" id="c2o1">
                    <div class="option-label">گزینه 1:</div>
                    <div class="option-text">یک بار در دوره - امتیاز: 6</div>
                </div>
                <div class="option" data-value="8">
                    <input type="radio" name="criterion2" id="c2o2">
                    <div class="option-label">گزینه 2:</div>
                    <div class="option-text">دو بار در دوره - امتیاز: 8</div>
                </div>
                <div class="option" data-value="12">
                    <input type="radio" name="criterion2" id="c2o3">
                    <div class="option-label">گزینه 3:</div>
                    <div class="option-text">سه بار یا بیشتر در دوره - امتیاز: 12</div>
                </div>
            </div>
        </div>
        
        <!-- معیار 3: شدت و میزان استفاده -->
        <div class="criterion" id="criterion3">
            <div class="criterion-title">
                <div class="criterion-number">3</div>
                شدت استفاده از تجهیز (در سال)
            </div>
            <div class="options">
                <div class="option" data-value="1">
                    <input type="radio" name="criterion3" id="c3o1">
                    <div class="option-label">گزینه 1:</div>
                    <div class="option-text">استفاده زیاد (بیش از 200 بار) - امتیاز: 1</div>
                </div>
                <div class="option" data-value="2">
                    <input type="radio" name="criterion3" id="c3o2">
                    <div class="option-label">گزینه 2:</div>
                    <div class="option-text">استفاده متوسط (بین 100 تا 200 بار) - امتیاز: 2</div>
                </div>
                <div class="option" data-value="3">
                    <input type="radio" name="criterion3" id="c3o3">
                    <div class="option-label">گزینه 3:</div>
                    <div class="option-text">استفاده کم (کمتر از 100 بار) - امتیاز: 3</div>
                </div>
            </div>
        </div>
        
        <!-- معیار 4: شرایط محیطی نگهداری -->
        <div class="criterion" id="criterion4">
            <div class="criterion-title">
                <div class="criterion-number">4</div>
                شرایط محیطی نگهداری (دما و رطوبت)
            </div>
            <div class="options">
                <div class="option" data-value="1">
                    <input type="radio" name="criterion4" id="c4o1">
                    <div class="option-label">گزینه 1:</div>
                    <div class="option-text">نوسانات زیاد (±35% یا بدتر) - امتیاز: 1</div>
                </div>
                <div class="option" data-value="2">
                    <input type="radio" name="criterion4" id="c4o2">
                    <div class="option-label">گزینه 2:</div>
                    <div class="option-text">نوسانات متوسط (±25%) - امتیاز: 2</div>
                </div>
                <div class="option" data-value="3">
                    <input type="radio" name="criterion4" id="c4o3">
                    <div class="option-label">گزینه 3:</div>
                    <div class="option-text">شرایط کنترل شده و پایدار (±15% یا بهتر) - امتیاز: 3</div>
                </div>
            </div>
        </div>
        
        <!-- معیار 5: جابجایی و استفاده خارج از آزمایشگاه -->
        <div class="criterion" id="criterion5">
            <div class="criterion-title">
                <div class="criterion-number">5</div>
                میزان استفاده در خارج از آزمایشگاه (تعداد دفعات خروج)
            </div>
            <div class="options">
                <div class="option" data-value="1">
                    <input type="radio" name="criterion5" id="c5o1">
                    <div class="option-label">گزینه 1:</div>
                    <div class="option-text">زیاد (بیش از 40 بار در سال) - امتیاز: 1</div>
                </div>
                <div class="option" data-value="2">
                    <input type="radio" name="criterion5" id="c5o2">
                    <div class="option-label">گزینه 2:</div>
                    <div class="option-text">متوسط (20 تا 40 بار در سال) - امتیاز: 2</div>
                </div>
                <div class="option" data-value="3">
                    <input type="radio" name="criterion5" id="c5o3">
                    <div class="option-label">گزینه 3:</div>
                    <div class="option-text">کم (کمتر از 20 بار در سال - ثابت) - امتیاز: 3</div>
                </div>
            </div>
        </div>
        
        <div class="separator"></div>
        
        <div class="buttons">
            <button id="calculateBtn">
                <i class="fas fa-calculator"></i> محاسبه دوره کالیبراسیون
            </button>
            <button id="resetBtn">
                <i class="fas fa-redo"></i> شروع مجدد
            </button>
        </div>
        
        <div class="result-container" id="resultContainer">
            <div class="result-title">
                <i class="fas fa-chart-line"></i> نتیجه محاسبه:
            </div>
            
            <div class="score-display">
                مجموع امتیازات کسب شده: <span class="score-value" id="totalScore">0</span>
            </div>
            
            <div class="interval-display">
                دوره کالیبراسیون پیشنهادی: <strong id="intervalValue">0</strong> ماه
            </div>
            
            <div class="score-summary">
                <div class="score-item">
                    <div class="score-item-title">نسبت عدم قطعیت آزمون</div>
                    <div class="score-item-value" id="score1">0</div>
                </div>
                <div class="score-item">
                    <div class="score-item-title">بررسی‌های میان‌دوره</div>
                    <div class="score-item-value" id="score2">0</div>
                </div>
                <div class="score-item">
                    <div class="score-item-title">شدت استفاده</div>
                    <div class="score-item-value" id="score3">0</div>
                </div>
                <div class="score-item">
                    <div class="score-item-title">شرایط محیطی</div>
                    <div class="score-item-value" id="score4">0</div>
                </div>
                <div class="score-item">
                    <div class="score-item-title">استفاده خارج از آزمایشگاه</div>
                    <div class="score-item-value" id="score5">0</div>
                </div>
            </div>
            
            <div id="warningMessage" class="warning" style="display: none;">
                <i class="fas fa-exclamation-triangle"></i> هشدار: دوره محاسبه شده بسیار کوتاه است. وضعیت دستگاه را بررسی کنید.
            </div>
            
            <div id="noteMessage" class="note" style="display: none;">
                <i class="fas fa-info-circle"></i> نکته: برای دوره‌های طولانی‌تر از 2 سال، اطمینان از سوابق قبلی ضروری است.
            </div>
        </div>
        
        <footer>
            <p>این برنامه بر اساس استاندارد IDS 689 (روش تحلیل مهندسی - صفحه 45) توسعه یافته است.</p>
            <p>© کلیه حقوق محفوظ است - نسخه ۱.۰</p>
        </footer>
    </div>

    <script>
        // تنظیم رویدادها برای گزینه‌ها
        document.querySelectorAll('.option').forEach(option => {
            option.addEventListener('click', function() {
                const radio = this.querySelector('input[type="radio"]');
                radio.checked = true;
                
                // حذف کلاس selected از همه گزینه‌های هم‌گروه
                const groupName = radio.getAttribute('name');
                document.querySelectorAll(`input[name="${groupName}"]`).forEach(r => {
                    r.parentElement.classList.remove('selected');
                });
                
                // اضافه کردن کلاس selected به گزینه انتخاب شده
                this.classList.add('selected');
            });
        });
        
        // رویداد برای دکمه محاسبه
        document.getElementById('calculateBtn').addEventListener('click', function() {
            let totalScore = 0;
            const scores = [0, 0, 0, 0, 0];
            let allSelected = true;
            
            // بررسی هر معیار
            for (let i = 1; i <= 5; i++) {
                const selectedOption = document.querySelector(`input[name="criterion${i}"]:checked`);
                if (selectedOption) {
                    const score = parseInt(selectedOption.parentElement.getAttribute('data-value'));
                    scores[i-1] = score;
                    totalScore += score;
                } else {
                    allSelected = false;
                    // برجسته کردن معیارهایی که انتخاب نشده‌اند
                    document.getElementById(`criterion${i}`).style.backgroundColor = '#ffeaea';
                    setTimeout(() => {
                        document.getElementById(`criterion${i}`).style.backgroundColor = '';
                    }, 1000);
                }
            }
            
            if (!allSelected) {
                alert('لطفاً همه معیارها را انتخاب کنید.');
                return;
            }
            
            // نمایش نتیجه
            document.getElementById('totalScore').textContent = totalScore;
            document.getElementById('intervalValue').textContent = totalScore;
            
            // نمایش امتیازات جزئی
            for (let i = 1; i <= 5; i++) {
                document.getElementById(`score${i}`).textContent = scores[i-1];
            }
            
            // نمایش پیام‌های هشدار
            const warningMessage = document.getElementById('warningMessage');
            const noteMessage = document.getElementById('noteMessage');
            
            if (totalScore < 6) {
                warningMessage.style.display = 'block';
                noteMessage.style.display = 'none';
            } else if (totalScore > 24) {
                warningMessage.style.display = 'none';
                noteMessage.style.display = 'block';
            } else {
                warningMessage.style.display = 'none';
                noteMessage.style.display = 'none';
            }
            
            // نمایش بخش نتیجه
            document.getElementById('resultContainer').style.display = 'block';
            
            // اسکرول به بخش نتیجه
            document.getElementById('resultContainer').scrollIntoView({ behavior: 'smooth' });
        });
        
        // رویداد برای دکمه شروع مجدد
        document.getElementById('resetBtn').addEventListener('click', function() {
            // پاک کردن انتخاب‌ها
            document.querySelectorAll('input[type="radio"]').forEach(radio => {
                radio.checked = false;
                radio.parentElement.classList.remove('selected');
            });
            
            // مخفی کردن نتیجه
            document.getElementById('resultContainer').style.display = 'none';
            
            // اسکرول به بالای صفحه
            window.scrollTo({ top: 0, behavior: 'smooth' });
        });
        
        // مقداردهی اولیه: انتخاب یک گزینه تصادفی برای نمایش عملکرد
        // این بخش فقط برای نمایش نمونه است و می‌توانید آن را حذف کنید
        window.addEventListener('load', function() {
            // انتخاب تصادفی یک گزینه از هر معیار
            for (let i = 1; i <= 5; i++) {
                const randomOption = Math.floor(Math.random() * 3) + 1;
                const radio = document.getElementById(`c${i}o${randomOption}`);
                if (radio) {
                    radio.checked = true;
                    radio.parentElement.classList.add('selected');
                }
            }
        });
    </script>
</body>
</html>